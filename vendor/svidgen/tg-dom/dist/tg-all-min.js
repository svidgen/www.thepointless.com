(function(){if(!this.tgmodule||!this.require){var k=[],a=["."];tgmodule={start:function(b){k.push(b)},end:function(b){k[k.length-1]===b&&k.pop()},setpath:function(b){a.push("./"===b?".":b)},unsetpath:function(){a.pop()},list:function(){var b=[],c;for(c in require.cache)b.push(c);return b},d:function(b,c,a){var d={};this.setpath(b);this.start(c);b=k[k.length-1];"function"===typeof a?a(d):d.exports=a;require.cache[b]=d;this.end(c);this.unsetpath()}};require=function(b){var a=require.cache[require.resolve(b)];
if(!a)throw"`"+b+"` does not exist.";return a.exports};require.cache={};require.resolve=function(b){b=b.split(/\//);for(var c=a[a.length-1].split(/\//);".."==b[0];)b.shift(),c.pop();for(;"."==b[0];)b.shift();return c.join("/")+"/"+b.join("/")}}})();tgmodule.d("./","./tg-upon.js",function(k){upon=function(a,b){"function"==typeof a&&a()?b():"string"==typeof a&&window[a]?b():setTimeout(function(){upon(a,b)},50)}});
tgmodule.d("./","./tg-namespace.js",function(k){TG=this.TG||{};TG.API=TG.API||{};TG.Data=TG.Data||{};TG.UI=TG.UI||{}});tgmodule.d("./","./tg-observe.js",function(k){require("tg-namespace.js");TG.observe=function(a,b,c,d){d=void 0===d?!0:d;b.forEach(function(b){var e=a[b];Object.defineProperty(a,b,{set:function(d){e=d;c(a,b,d)},get:function(){return e},enumerable:d})})};k.exports=TG.observe});
tgmodule.d("./","./tg-events.js",function(k){require("tg-observe.js");require("tg-upon.js");TG.Event=function(a,b,c){this.target=b;this.action=c;this.subscribers=[];this.interceptors=[];this.fired=0;this.singleFire=a||!1;this.args=[];this.and=this.then=this.register=function(b){this.singleFire&&0<this.fired?b():this.subscribers.push(b);return this};this.fire=function(b,a,c){this.args=arguments;this.fireWithInterception();this.fired+=1;return this};this.fireOnce=function(b,a,c){this.singleFire=!0;
return this.fire.apply(this,arguments)};this.fireWithInterception=function(b){b=b||0;if("function"==typeof this.interceptors[b]){var a=this;this.interceptors[b]({arguments:a.args,resume:function(){a.fireWithInterception(b+1)}})}else{this.fired+=1;for(var c=[];0<this.subscribers.length;){var d=this.subscribers.pop();"function"===typeof d&&(d.apply(null,this.args),c.push(d))}this.singleFire||(this.subscribers=c)}};this.intercept=function(b){"function"===typeof b&&this.interceptors.push(b)};setType(this,
"TG.Event")};TG.Event.events=[];TG.Event.events.getWaiting=function(){return TG.Event.events.filter(function(a){return 0==a.fired})};TG.Event.registries=[];TG.Event.registries.getWaiting=function(){return TG.Event.registries.filter(function(a){return a.fired<a.count})};this.on=function(a,b,c,d){var e="__TGEvent_on"+b;d=d||!1;if(isa(a,Array)||isa(a,NodeList)){for(var f=[],g=0;g<a.length;g++)!isa(a[g],Object)||!isa(a[g],Element)&&isa(a[g],Node)||f.push(a[g]);var h={count:f.length,fired:0,fn:c,singleFire:d,
fire:function(){this.fired++;this.fired>=this.count&&on(this,"complete").fire()},objects:f,eventName:e};if(0<f.length)for(g=0;g<f.length;g++)on(f[g],b,function(){h.fire()},d);else h.fire();TG.Event.registries.push(h);return on(h,"complete")}if("undefined"===typeof a[e])a[e]=new TG.Event(d,a,e);else if(!isa(a[e],"TG.Event"))throw e+" already exists as a non-TG.Event on the target object.";"function"==typeof c&&a[e].register(c);return a[e]};this.onready=function(a,b){return on(a,"ready",b,!0)}});
tgmodule.d("./","./tg-set.js",function(k){TG.Set=function(a){var b={};this.add=function(a){if(a instanceof Array)for(var c=0;c<a.length;c++)this.add(a[c]);else b[a]=!0};this.remove=function(a){delete b[a]};this.toArray=function(){var a=[],d;for(d in b)a.push(d);return a};a&&this.add(a)};k.exports=TG.Set});
tgmodule.d("./","./tg-types.js",function(k){Element=window.Element||function(){return!0};Node=window.Node||window.Element;getTypeId=function(a){var b=a;"function"==typeof a&&(b=Bind.getBindings(a),b=0<b.length?b[0]:a.name||a.toString());return b};registerType=setType=function(a,b){a.__types=a.__types||{};var c=this.getTypeId(b);if(c&&null==a.__types[c]){var d=0,e;for(e in a.__types)d=Math.max(d,a.__types[e]);a.__types[c]=d+1}};isa=function(a,b){var c=typeof a,d=typeof b;if("string"===c)return b===
String;if("number"===c)return b===Number;if(void 0===a||null===a)return d===c;if("boolean"===c)return c==d;if("string"===d||"function"===d)if(a.__types=a.__types||{},b&&a.__types[this.getTypeId(b)])return!0;return b===Element||b===Node||b===NodeList||"function"===d?a instanceof b:a===b};k.exports={isa:isa,getTypeId:getTypeId,setType:setType,registerType:registerType}});
tgmodule.d("./","./tg-css.js",function(k){TG.getClassnames=function(a){return(new TG.Set(a.className.split(/\s+/))).toArray()};TG.addClassname=function(a,b){var c=new TG.Set(a.className.split(/\s+/));c.add(b);a.className=c.toArray().join(" ")};TG.removeClassname=function(a,b){var c=new TG.Set(a.className.split(/\s+/));c.remove(b);a.className=c.toArray().join(" ")};TG.currentStyle=function(a,b){return a.currentStyle?a.currentStyle[b]:document.defaultView.getComputedStyle(a,"")[b]};TG.copyStyle=function(a,
b,c){if(c instanceof Array)for(var d=0;d<c.length;d++)b.style[c[d]]=TG.currentStyle(a,c[d]);else for(d in a.style)b.style[d]=c?TG.currentStyle(a,d):a.style[d];a=TG.getClassnames(a);for(d=0;d<a.length;d++)TG.addClassname(b,a[d])};k.exports={getClassname:TG.getClassname,addClassname:TG.addClassname,remoeClassname:TG.removeClassname,copyStyle:TG.copyStyle,currentStyle:TG.currentStyle}});
tgmodule.d("./","./tg-profiler.js",function(k){TGProfiler=new function(){var b={};this.start=function(b){return new a(b)};this.watch=function(b,d){return function(){var c=new a(b),f=d.apply(this,Array.prototype.slice.call(arguments,0));c.stop();return f}};this.append=function(a){b[a.name]=b[a.name]||[];b[a.name].push(a)};this.getSummary=function(){var a={},d;for(d in b)_profiles=b[d],a[_profiles[0].name]={count:_profiles.length,time:_profiles.reduce(function(b,a){return b+a.getTime()},0)};return a}};
var a=function(b){var a,d;this.init=function(){this.name=b;TGProfiler.append(this);a=new Date};this.stop=function(){d=new Date};this.getTime=function(){return d?d.getTime()-a.getTime():(new Date).getTime()-a.getTime()};this.init()};k.exports=TGProfiler});
tgmodule.d("./","./tg-dom.js",function(k){require("tg-namespace.js");require("tg-upon.js");require("tg-events.js");require("tg-set.js");require("tg-types.js");require("tg-css.js");var a=require("tg-profiler.js");this.console=this.console||{log_items:[],log:function(){for(var b=0;b<arguments.length;b++)this.log_items.push(arguments[b])}};this.Bind||(this.DomClass=function(b,c){c=c||function(){};var d=c.name||"<unknown>";c=a.watch(d,c);c.template=b;Bind(c);d=a.watch("DomClass "+d,function(b){return New(c,
b)});d.apply=function(b,a){return c.apply(b,a)};d.call=function(){var b=Array.prototype.shift.apply(arguments);return c.call(b,arguments)};d.__constructor=c;d.name=c.name;return d},this.Bind=function(b,a,d){if("function"==typeof b)return a=Bind.addBinding(b,a),b.binding=a,a=getNodes(isa(d,Node)?d:document,a),Bind.Apply(b,a),a.length;isa(b,Node)&&Bind.BindExistingConstructors(b)},Bind.BindExistingConstructors=function(b,a){var c=[],e=a&&a.dependencies||Bind.Classes,f;for(f in e)0<Bind(Bind.Classes[f],
f,b)&&(c[f]=1);a&&!a.dependencies?a.dependencies=c:null},Bind.Apply=function(b,a){for(var c=0;c<a.length;c++){var e=a[c];e.__AlreadyBound||(Bind.importParameters(b,e),Bind.ApplyClone(b,e),Bind.ApplyConstructor(b,e),Bind.importAttributes(e),e.__AlreadyBound=!0)}},Bind.ApplyTemplate=function(b,a){var c=Bind.templateFor(b);c&&(a.innerHTML=c)},Bind.ApplyClone=function(b,a){if(Bind.templateFor(b)){for(;a.firstChild;)a.removeChild(a.firstChild);var c=Bind.getClone(b);0==c.childNodes.length&&(c=a.__holdingDiv);
for(;c.firstChild;)a.appendChild(c.removeChild(c.firstChild))}},Bind.ApplyConstructor=function(b,a){Bind.BindExistingConstructors(a,b);setType(a,b);Bind.attachIdentifiedChildren(a);Bind.applyParameters(a);b.apply(a)},Bind.applyProperties=function(b,a){var c="object"==typeof a?a:{},e;for(e in c)c.hasOwnProperty(e)&&(b[e]=c[e])},Bind.originalCreateElement=document.createElement,Bind.createNode=function(b,a){a=a||b.binding;var c=Bind.originalCreateElement.call(document,"div");0==a.indexOf(":")&&(a=a.substr(1));
if(0==a.indexOf(".")){var e=a.substr(1);a="tg:element"}c.innerHTML="<"+a+"></"+a+">";c=c.firstChild;c.className=e||"";return c},Bind.Classes={},document.createElement=function(b,a){var c=Bind.getConstructor(b);if(c){var e=Bind.getClone(c);Bind.applyProperties(e,a);Bind.ApplyConstructor(c,e);e.__AlreadyBound=!0}else e=Bind.originalCreateElement.call(this,b),Bind.applyProperties(e,a);return e},Bind.getClone=function(b){b.templateNode||(b.templateNode=Bind.createNode(b),Bind.ApplyTemplate(b,b.templateNode));
return b.templateNode.cloneNode(!0)},Bind.addBinding=function(b,a){a||(a=Bind.bindingQueryFromConstructor(b));Bind.Classes[a]=b;return a},Bind.bindingQueryFromConstructor=function(b){var a=document.createElement("div");a.innerHTML=Bind.templateFor(b);for(var d=0;d<a.childNodes.length;d++){var e=Bind.bindingQueryFromNode(a.childNodes[d]);b.template=a.childNodes[d].innerHTML;if(e)return e}throw"Could not bind "+b;},Bind.bindingQueryFromNode=function(a){return a.tagName?!a.className||a.tagName.match(/:/)?
a.tagName.toLowerCase():a.className:null},Bind.getConstructor=function(a){return Bind.Classes[a]},Bind.getBindings=function(a){var b=[],d;for(d in Bind.Classes)Bind.Classes[d]!==a&&Bind.Classes[d]!==a.__constructor||b.push(d);return b},Bind.makeNodeFrom=function(a,c){if(isa(a,Node)||isa(a,Element))return a;if(isa(a,Array)){var b=document.createElement("div");Bind.addArrayAsChildren(b,a);return b}if("object"!=typeof a)return b=document.createElement("div"),b.innerHTML=a,b;b=null;c&&(b=Bind.getConstructor(c));
if("object"==typeof a.__types)for(var e=TG.getTypeArray(a),f=0;f<e.length;f++)b=Bind.getConstructor(e[f]);if(b)return New(b,a);b=document.createElement("div");b.innerHTML=a;return b},Bind.addArrayAsChildren=function(a,c,d){for(;a.firstChild;)a.removeChild(a.firstChild);for(var b=0;b<c.length;b++)c[b]=Bind.makeNodeFrom(c[b],d),c[b].parentNode&&c[b].parentNode.removeChild(c[b]),a.appendChild(c[b])},Bind.childNodeArray=function(a){var b=[];b.events={};var d=a["data-collection"]||a.getAttribute("data-collection");
b.render=function(){Bind.addArrayAsChildren(a,b)};b.loadFromDOM=function(c){c&&(a=c);c=[];c=(c=a["data-collection"]||a.getAttribute("data-collection"))?getNodes(a,c):Array.prototype.slice.call(a.childNodes);b.length=0;c.forEach(function(a){b.push(a)})};b.push=function(c){c=Bind.makeNodeFrom(c,d);a.appendChild(c);return Array.prototype.push.call(b,c)};b.pop=function(){a.removeChild(n);return Array.prototype.pop.apply(b)};b.shift=function(){a.removeChild(n);return Array.prototype.shift.apply(b)};b.unshift=
function(c){c=Bind.makeNodeFrom(c,d);a.insertBefore(c,a.firstChild);return Array.prototype.unshift.call(b,c)};b.splice=function(){var c=Array.prototype.slice.call(arguments,0),d=c.shift(),e=c.shift()||b.length;c=c||[];for(var f=d;f<d+e;f++)a.removeChild(b[f]);var k=b[f];c.forEach(function(b){a.insertBefore(b,k)});return Array.prototype.splice.apply(b,arguments)};for(var e=["reverse","sort"],f=0;f<e.length;f++)(function(){var a=e[f];b[a]=function(){var c=Array.prototype[a].apply(b,arguments);b.render();
return c}})();b.loadFromDOM();return b},Bind.defineAccessors=function(a,c,d){var b=Object.getOwnPropertyDescriptor(c,d);if(!(b&&0==b.configurable||a.__accessorDefined)){Object.defineProperty(a,"__accessorDefined",{get:function(){return!0},enumerable:!1});var f="innerHTML";"string"==typeof a.value&&(f="value");var g=a.getAttribute("data-property");a.getAttribute("data-render-async");var h=g,m=Bind.childNodeArray(a);c.__dom=c.__dom||{};Object.defineProperty(c.__dom,d,{get:function(){return a}});Object.defineProperty(c,
"__dom",{enumerable:!1});b=!0;if(a["data-ignore"]||a.getAttribute("data-ignore"))b=!1;Object.defineProperty(c,d,{get:function(){return"children"==g||"children"==h||a["data-collection"]||a.getAttribute("data-collection")?m:g?a[g]:h?a[h]:a},set:function(b){var c=function(b){if(isa(b,Array))Bind.addArrayAsChildren(a,b),h="children";else if(isa(b,Node))a.parentNode&&a.parentNode.replaceChild(b,a),a=b,h=null;else if(isa(b,Object)){for(var c in b)a[c]=b[c];h=null}else g?(a[g]=b,h=g):(a[f]=b,h=f)};isa(b,
"TG.Value")&&on(b,"change",function(){c(b.valueOf())});c(b.valueOf());m.loadFromDOM(a)},enumerable:b,configurable:!1})}},Bind.attachIdentifiedChildren=function(a,c){var b=(c||a).querySelectorAll("[data-id]");b=Array.prototype.slice.call(b,0);for(var e=0;e<b.length;e++){var f=b[e].getAttribute("data-id"),g=a[f];Bind.defineAccessors(b[e],a,f);g&&(a[f]=g)}},Bind.importAttributes=function(a,c){c=c||a;if(!a.__attributes_imported&&c.attributes&&c.attributes.length)for(var b=0;b<c.attributes.length;b++){var e=
c.attributes[b];a[e.name]||(a[e.name]=e.value)}a.__attributes_imported=!0},Bind.templateFor=function(a){return["template","markup","templateMarkup"].reduce(function(b,d){return b||a[d]},null)},Bind.importParameters=function(a,c,d){d=d||c;if(!c.__parameters_imported&&d.childNodes){c.parameters=[];for(var b=0;b<d.childNodes.length;b++){var f=d.childNodes[b];if(f.nodeType&&3==f.nodeType&&f.data&&f.data.replace(/\s/g,"")){var g=document.createElement("span");g.innerHTML=f.data;f=g}c.parameters.push(f)}if(null!=
Bind.templateFor(a)){c.__holdingDiv=document.createElement("div");c.__holdingDiv.style.display="none";document.body.appendChild(c.__holdingDiv);for(b=0;b<c.parameters.length;b++)c.__holdingDiv.appendChild(c.parameters[b]);Bind(c.__holdingDiv)}}c.__parameters_imported=!0},Bind.applyParameters=function(a){if(a.parameters&&isa(a.parameters,Array)&&a.__holdingDiv){for(var b=a.parameters,d=b.length-1;0<=d;d--){var e=b[d]["data-id"];e||"function"!=typeof b[d].getAttribute||(e=b[d].getAttribute("data-id"));
e&&(a[e]=b[d])}a.__holdingDiv.parentNode.removeChild(a.__holdingDiv);delete a.__holdingDiv}},Bind.copyDefaultAttributes=function(a,c){if(isa(a,Node)&&isa(c,Node))for(var b=0;b<a.attributes.length;b++){var e=a.attributes[b].name;c.hasAttribute(e)||(c.setAttribute(e,a.attributes[b].value),c[e]=a.attributes[b].value)}},Bind.getChildren=function(a,c){if(!a.childNodes)return[];for(var b=[],e=getNodes(a,c),f=0;f<e.length;f++)e[f].parentNode===a&&b.push(e[f]);return b},window.getNodes=window.getNodes||function(a,
c){if("function"==typeof c){var b=[];for(var e=Bind.getBindings(c),f=0;f<e.length;f++)for(var g=getNodes(a,e[f]),h=0;h<g.length;h++)b.push(g[h]);return b}c=c.replace(/:/g,"\\:");b=a.querySelectorAll(c);for(f=0;f<b.length;f++)Bind.importAttributes(b[f]);return Array.prototype.slice.call(b,0)});this.Build=function(a,c){var b=c||{},e=null,f;for(f in Bind.Classes)if(Bind.Classes[f]===a){e=document.createElement(f,b);break}null===e&&(e=c,a.apply(e));return e};this.New=Build;console.log("Loaded Bind.")});
tgmodule.d("./","./tg-box.js",function(k){TG.Box=function(a,b,c,d,e,f,g,h){this.x=a||0;this.y=b||0;this.width=c||0;this.height=d||0;this.marginTop=e||0;this.marginRight=f||0;this.marginBottom=g||0;this.marginLeft=h||0;this.contains=function(a,b){var c=this.y-Math.ceil(this.marginTop/2),d=this.x+this.width-Math.ceil(this.marginRight/2),e=this.y+this.height-Math.ceil(this.marginBottom/2);return a>=this.x-Math.ceil(this.marginLeft/2)&&a<=d&&b>=c&&b<=e?!0:!1};this.getBottom=function(){return this.y+this.height};
this.getRight=function(){return this.x+this.width};this.rangeOverlaps=function(a,b,c,d){return a<=d&&c<=b};this.xOverlaps=function(a){return this.rangeOverlaps(this.x,this.getRight(),a.x,a.getRight())};this.yOverlaps=function(a){return this.rangeOverlaps(this.y,this.getBottom(),a.y,a.getBottom())};this.overlaps=function(a){return this.xOverlaps(a)&&this.yOverlaps(a)}};k.exports=TG.Box});
tgmodule.d("./","./tg-nodebox.js",function(k){var a=require("tg-box.js");TG.NodeBox=function(a){this.x=a.offsetLeft;this.y=a.offsetTop;for(var b=a;b=b.offsetParent;)this.x+=b.offsetLeft,this.y+=b.offsetTop;this.left=this.x;this.top=this.y;this.width=a.offsetWidth;this.height=a.offsetHeight;this.right=this.x+this.width;this.bottom=this.x+this.height;this.marginLeft=parseInt("".replace(/[^0-9]/g,"")||"0");this.marginRight=parseInt("".replace(/[^0-9]/g,"")||"0");this.marginTop=parseInt("".replace(/[^0-9]/g,
"")||"0");this.marginBottom=parseInt("".replace(/[^0-9]/g,"")||"0")};TG.NodeBox.prototype=new a;k.exports=TG.NodeBox});
tgmodule.d("./","./tg-api.js",function(k){require("tg-namespace.js");require("tg-upon.js");TG.API.longPolls=TG.API.longPolls||[];TG.API.requests=TG.API.requests||{};TG.API.APIs=TG.API.APIs||[];TG.replaceAll=function(a,b){a=String(a);b.forEach(function(b){a=a.replace(b[0],b[1])});return a};TG.addSlashes=function(a){return TG.replaceAll(a,[[/\\/g,"\\\\"],[/"/g,'\\"'],[/'/g,"\\'"]])};TG.jsonEscape=function(a){return TG.replaceAll(a,[[/\\/g,"\\\\"],[/"/g,'\\"'],[/\//g,"\\/"],[/[\b]/g,"\\b"],[/\f/g,"\\f"],
[/\n/g,"\\n"],[/\r/g,"\\r"],[/\t/g,"\\t"],[/[^\u0020-\u007d]/g,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)}]])};TG.jsonAddSlashes=function(a){return TG.jsonEscape(a)};TG.stringify=function(a,b,c,d){b="number"==typeof b?b:128;if(!(1>b)){var e={__stringify_instance:1,__parameters_imported:1,__attributes_imported:1,__AlreadyBound:1},f=c||Math.random();if(a&&a.__stringify_instance&&a.__stringify_instance==f)delete a.__stringify_instance;else{a&&(a.__stringify_instance=f);if("undefined"===
typeof a)d=void 0;else if(null===a)d="null";else if(a instanceof Array){c=[];for(var g=0;g<a.length;g++){var h=TG.stringify(a[g],b-1,f,d);null!==h&&c.push(h)}d="["+c.join(",")+"]"}else if("boolean"===typeof a)d=a?"true":"false";else if(d&&c&&isa(a,"TG.DataObject"))d=TG.stringify(new TG.DataObjectReference(a),b-1,f,!1);else if("object"===typeof a){c=[];for(g in a)if(!e[g]&&a.hasOwnProperty(g)&&!g.match(/__TG/)){h=TG.stringify(a[g],b-1,f,d);var m=TG.stringify(g,b-1,f,d);m&&"string"==typeof h&&c.push(m+
":"+h)}d="{"+c.join(",")+"}"}else d="number"===typeof a?String(a):"function"===typeof a?void 0:'"'+TG.jsonEscape(a)+'"';a&&a.__stringify_instance&&delete a.__stringify_instance;return d}}};TG.argumentsArray=function(a){for(var b=[],c=0;c<a.length;c++)b.push(a[c]);return b};TG.API.multijsonp=function(a,b,c){TG.API.APIs[a]||(TG.API.APIs[a]={});upon(function(){return TG.API.poll},function(){var d=Math.floor(1E5+1E5*Math.random()),e=(new Date).getTime().toString(36)+d.toString(36);TG.API.requests[e]=
b;TG.API.requests[e].longpoll=c;d=encodeURIComponent(TG.stringify(b));d=c?"tg-t="+e+"&tg-w="+d:"tg-t="+e+"&tg-a="+d;var f=window.MockXMLHttpRequest||window.XMLHttpRequest||null,g=f?new f:new ActiveXObject("Microsoft.XMLHTTP");g.open("post",a,!0);g.setRequestHeader("Content-type","application/x-www-form-urlencoded");g.onreadystatechange=function(){4==g.readyState&&(200==g.status?eval(g.responseText):console.log("TG.mulijsonp() Error or Abort",g),delete TG.API.requests[e],c&&(delete TG.API.APIs[a].longPoll,
0==g.status||""==g.responseText?TG.API.disconnect(a,e):TG.API.poll(a)))};g.send(d);c&&(TG.API.APIs[a].longPoll=g)})};TG.API.jsonp=function(a,b,c){var d=new TG.API.Callback;c instanceof Array||(c=[c]);c={f:b,p:c,c:d};var e=TG.API.jsonp;e.pending=e.pending||{};var f=e.buffer;f[a]=f[a]||[];f[a].push(c);b.match(/^tg-api/)?TG.API.multijsonp(a,f[a]):"undefined"==typeof e.pending[a]&&(e.pending[a]=setTimeout(function(){TG.API.multijsonp(a,f[a]);f[a]=[];delete e.pending[a]},15));return d};TG.API.jsonp.buffer=
{};TG.API.getPolls=function(a,b,c){for(var d=[],e=0;e<TG.API.longPolls.length;e++){var f=TG.API.longPolls[e];(f.api==a&&null==b||f.f==b&&null==c||f.p==c)&&d.push(f)}return d};TG.API.poll=function(a){var b=TG.API.poll;b.pending=b.pending||{};"undefined"==typeof b.pending[a]&&(b.pending[a]=setTimeout(function(){TG.API.APIs[a]&&TG.API.APIs[a].longPoll&&TG.API.APIs[a].longPoll.abort();var c=TG.API.getPolls(a);0!=c.length&&(TG.API.multijsonp(a,c,!0),delete b.pending[a])},50))};TG.API.restartPolls=function(){var a=
TG.API;if(a.APIs)for(var b=0;b<a.APIs.length;b++){var c=TG.API.APIs[b];a[c]&&void 0===a[c].longPoll?0<TG.API.getPolls(c).length&&(a[c].longPollBroken?(console.log("Connection to "+c+" is broken. Retrying ..."),TG.API.poll(c)):a[c].longPollBroken=!0):a[c]&&(a[c].longPollBroken=!1)}};TG.API.poll.monitor=setInterval(TG.API.restartPolls,5E3);TG.API.start=function(a,b,c){if(!(0<TG.API.getPolls(a,b,c).length)){var d=new TG.API.Callback;b={api:a,f:b,p:c,c:d};d.action=b;TG.API.longPolls.push(b);TG.API.poll(a);
return d}};TG.API.stop=function(a,b,c){"object"==typeof a?c=c||b:a=TG.API.requests[a][b];var d=a.api;c&&console.log(c);c=!1;TG.API.APIs[d]&&TG.API.APIs[d].longPoll&&(TG.API.APIs[d].longPoll.abort(),c=!0);for(b=0;b<TG.API.longPolls.length;b++){var e=TG.API.longPolls[b];e===a&&(delete e.c,TG.API.longPolls.splice(b))}c&&TG.API.poll(d)};TG.API.disconnect=function(a,b){TG.API.jsonp(a,"tg-api-disconnect",b)};TG.API.Callback=function(){var a=function(c){a.value.push(c);b()};setType(a,"TG.API.Callback");
a.returns=[];a.value=[];a.exception=null;a.chainlink=null;a.callback=function(c){a.chainlink=new TG.API.Callback;if("string"===typeof c){var d=c;c=function(a){return a[d]()}}a.returns.push(c);b();return a.chainlink};var b=function(){if(0<a.value.length){var b=a.value.shift(),c=a.returns[0];"function"==typeof c&&(b=c(b),"function"==typeof b&&a.chainlink?b.returnTo(a.chainlink):a.chainlink(b))}};a.stop=function(){return a.action?TG.API.stop(a.action):null};a.fail=function(b){a.failure=b;"function"==
typeof a.failToFn&&a.failToFn(b);a.chainlink&&a.chainlink.fail(b)};a.failTo=function(b){a.failToFn=b;a.failure&&b(a.failure)};a.or=a.failTo;for(var c=["returnTo","and"],d=0;d<c.length;d++)a[c[d]]=a.callback;a.log=function(){a.returnTo(function(a){console.log(a)})};a.logJSON=function(){a.returnTo(function(a){console.log(TG.stringify(a))})};return a};TG.API.cb=function(a,b,c){if(!TG.API.requests[a].longpoll||null!==c&&("undefined"==typeof c.length||0!=c.length)){var d=null===c?null:"object"==typeof c?
new c.constructor:c;TG.copy(c,d);d&&d["tg-api-error"]?(c=console.error||console.log,d.message=d["tg-api-error"],c(d["tg-api-error"]+"\n",d["tg-api-trace"]),TG.API.requests[a][b].c.fail(d)):TG.API.requests[a][b].c(d)}};TG.API.alter=function(a,b,c){TG.API.requests[a][b].p=c};TG.findGlobal=function(a){a=a.split(".");for(var b=window,c=0;c<a.length;c++)if(b=b[a[c]],!b)return null;return b};TG.getTypeArray=function(a){var b=[],c;for(c in a.__types)b.push(c);b.sort(function(b,c){return a.__types[b]>a.__types[c]});
return b};TG.applyTypesFrom=function(a,b){var c=null;if(null!==a&&null!==b&&"object"===typeof b&&"object"===typeof a&&"object"===typeof a.__types)for(var d=TG.getTypeArray(a),e=0;e<d.length;e++){var f=d[e];isa(b,f)||(f=TG.findGlobal(f),"function"==typeof f&&(c=f.call(b))&&(b=c))}return c};TG.copy=function(a,b){if(null!==a&&"object"===typeof a&&null!==b&&"object"===typeof b){var c=TG.applyTypesFrom(a,b),d=!1;c?d=!0:c=b;for(var e in a)if("__types"!==e&&"function"!==typeof c[e])if(isa(a[e],Array)){isa(c[e],
Array)||(c[e]=a[e]);for(var f=0;f<c[e].length;f++)TG.copy(a[e][f],c[e][f])}else"object"===typeof a[e]?("object"!==typeof c[e]&&(c[e]={}),(f=TG.copy(a[e],c[e]))&&(c[e]=f)):"object"!==typeof c[e]&&(c[e]=a[e]);if(d)return c}};TG.FunctionReference=function(){var a=function(){var b=a.isEvent?TG.API.start:TG.API.jsonp,c=TG.argumentsArray(arguments),d;for(d in this)if(this[d]===a){var e=a.target;break}return b(a.api,e,c)};setType(a,"TG.FunctionReference");return a};TG.Value=function(a){var b=void 0;this.valueOf=
function(){return b};this.set=function(a){b=a;on(this,"change").fire()};a&&this.set(a);setType(this,"TG.Value")}});tgmodule.d("./","./tg-mouse-coords.js",function(k){require("tg-box.js");TG.MouseCoords=function(a){a=a||window.event;if(a.changedTouches)this.x=a.changedTouches[0].pageX,this.y=a.changedTouches[0].pageY;else if(a.pageX||a.pageY)this.x=a.pageX,this.y=a.pageY;else if(a.clientX||a.clientY)this.x=a.clientX+document.body.scrollLeft,this.y=a.clientY+document.body.scrollTop};k.exports=TG.MouseCoords});
tgmodule.d("./","./tg-dragdrop.js",function(k){require("tg-upon.js");require("tg-namespace.js");require("tg-dom.js");require("tg-mouse-coords.js");TG.DragDrop=TG.DragDrop||{active_draggable:null,drops:[],draggables:[],getCollection:function(a){if(isa(a,"TG.Draggable"))return this.draggables;if(isa(a,"TG.SortableList"))return this.drops},contains:function(a){for(var b=this.getCollection(a),c=0;c<b.length;c++)if(b[c]==a)return c;return!1},objectAt:function(a,b,c){c=c||this.draggables;for(var d in c)if(c[d].contains(a,
b))return c[d];return null},dropSpotAt:function(a,b){return this.objectAt(a,b,this.drops)},handleAt:function(a,b,c){c=this.draggables;return(c=this.objectAt(a,b,c))&&c.handleContains(a,b)?c:null},add:function(a){var b=this.getCollection(a);this.contains(a,b)||b.push(a)},remove:function(a){var b=this.getCollection(a);(a=this.contains(a,b))&&b.splice(a,1);return a},grab:function(a){var b=null;this.active_draggable||(b=this.handleAt(a.x,a.y))&&isa(b,"TG.Draggable")&&("undefined"===typeof b.enabled||
b.enabled)&&(b.pickUp(a,!0),this.active_draggable=b,this.over_spot=this.dropSpotAt(a.x,a.y),this.over(a));return b},drag:function(a){return this.active_draggable?(this.active_draggable.drag(a),this.over(a),!0):!1},over:function(a){var b=a?this.dropSpotAt(a.x,a.y):null;if(null==b||b!=this.over_spot)this.over_spot&&this.over_spot.dragOut(this.active_draggable),b&&b.dragOver(a,this.active_draggable),this.over_spot=b},drop:function(a){var b=this.active_draggable;if(b){this.active_draggable=null;this.over(null);
for(var c=null,d=this.dropSpotAt(a.x,a.y)||b.getContainer(),e=0;e<this.drops.length;e++)this.drops[e]==d?c=this.drops[e].dropOver(b,a)?d:null:this.drops[e].dropOver(null);c?b.drop(a,c):b["return"]();return!0}return!1}};TG.SortableList=function(){this.add=function(a){if(null!=a)if(isa(a,Array))for(var b in a)this.add(a[b]);else if(isa(a,"TG.Draggable")){var c=!0;for(b in this.objects)if(this.objects[b]==a){c=!1;break}c&&(a.container&&"function"===typeof a.container.remove&&a.container.remove(a),a.index=
this.objects.length,this.objects.push(a),a.container=this,a.parentNode!==this&&this.appendChild(a))}else this.add(New(TG.Draggable(a,[this])))};this.remove=function(a){for(var b=0;b<this.objects.length;b++)this.objects[b]===a&&this.objects.splice(b,1);return null};this.dragStart=function(a){var b=1;"function"==typeof this.ondragstart&&(b=this.ondragstart(a));return b?(this.remove(a),this.drop_preview=this.getDropPreview(a),this.replaceChild(this.drop_preview,a)):b};this.dragOver=function(a,b){var c=
1;"function"==typeof this.ondragover&&(c=this.ondragover(b));c&&(c=TG.DragDrop.objectAt(a.x,a.y),c==this&&(c=null),this.getDropPreview(b).move(this,c))};this.dragOut=function(a){this.removeDropPreview();if("function"==typeof this.ondragout)this.ondragout(a)};this.dropOver=function(a,b){var c=!!a;c&&"function"===typeof this.ondropover&&(c=this.ondropover(a));c&&a&&(this.add(a),this.insertBefore(a,this.getDropPreview(a)));this.removeDropPreview();return c};this.contains=function(a,b){return(new TG.NodeCoords(this)).contains(a,
b)};this.getObjects=function(){return this.objects};this.getDropPreview=function(a,b){this.drop_preview||(this.drop_preview=New(TG.DropPreview,{container:this}),copyStyle(a,this.drop_preview,TG.DropPreview.relevantStyles),this.appendChild(this.drop_preview));return this.drop_preview};this.removeDropPreview=function(){return this.drop_preview?(this.removeChild(this.drop_preview),this.drop_preview=null,!0):!1};this.objects=[];this.drop_preview=this.dragging=null;"absolute"!=this.style.position&&(this.style.position=
"relative");setType(this,"TG.SortableList");TG.DragDrop.add(this)};Bind(TG.SortableList,"tg-sortable-list");Bind(TG.SortableList,"tg:sortablelist");TG.DropSpot=function(){TG.SortableList.apply(this,arguments);this.dragOut=function(a){if("function"==typeof this.ondragout)this.ondragout(a)};setType(this,"TG.DropSpot")};Bind(TG.DropSpot,"tg-drop-spot");TG.Draggable=function(){setType(this,"TG.Draggable");this.container=null;this.handle=this.handle||this["data-handle"]||this;this.index=0;this.dragging=
!1;this.y_offset=this.x_offset=0;this.coords=function(){return new TG.NodeCoords(this)};this.debug=this.screen_protector=this.drop_preview=this.old_coords=null;this.destroy=function(){this.handle.style.cursor="default";this.handle=this.container=this.targets=this.o=null};this.contains=function(a,b){return this.dragging?!1:(new TG.NodeCoords(this)).contains(a,b)};this.handleContains=function(a,b){return this.dragging?!1:(new TG.NodeCoords(this.handle)).contains(a,b)};this.getContainer=function(){if(!this.container)if(isa(this.parentNode,
"TG.DropSpot")||isa(this.parentNode,"TG.SortableList"))this.container=this.parentNode,this.container.add(this);else if(this.sticky||this["data-sticky"])this.container=New(TG.DropSpot),copyStyle(this,this.container,["display","position","float","clear"]),this.parentNode.insertBefore(this.container,this),this.container.add(this);return this.container};this.pickUp=function(a){this.screen_protector=New(TG.ScreenProtector);document.body.appendChild(this.screen_protector);this.old_coords=new TG.NodeCoords(this);
this.x_offset=a.x-this.coords().x;this.y_offset=a.y-this.coords().y;var b=this.getContainer();b&&(b.dragStart(this),this.returnto=b);this.dragging=!0;this.setStyles();document.body.appendChild(this);this.style.left=a.x-this.x_offset+"px";this.style.top=a.y-this.y_offset+"px"};this.drag=function(a){this.style.left=a.x-this.x_offset+"px";this.style.top=a.y-this.y_offset+"px"};this.drop=function(a,b){this.screen_protector&&(this.screen_protector=this.screen_protector.remove());this.dragging=!1;this.setStyles();
if("function"==typeof this.ondrop)this.ondrop(a,b)};this.setStyles=function(){this.dragging?(this.style.opacity=.5,this.style.filter="alpha(opacity=50)",this.style.position="absolute",this.style.zIndex=1E3):(this.getContainer()&&(this.style.position="",this.style.left="",this.style.top="",this.style.zIndex=""),this.style.opacity="",this.style.filter="",this.y_offset=this.x_offset=0)};this["return"]=function(){this.returnto&&this.returnto.add(this);this.drop(null,null)};this.hide=function(){this._display=
this.style.display;this.style.display="none"};this.show=function(){this.style.display=this._display||""};TG.DragDrop.add(this)};TG.Draggable.compare=function(a,b){return a.index>b.index?1:-1};Bind(TG.Draggable,"tg-draggable");Bind(TG.Draggable,"tg:draggable");TG.DropPreview=function(){setType(this,"TG.DropPreview");this.index=0;this.contains=function(a,b){return(new TG.NodeCoords(this)).contains(a,b)};this.move=function(a,b){};this.style.border="2px solid green"};TG.DropPreview.templateMarkup="&nbsp;";
TG.DropPreview.relevantStyles="display position width height top left border-width margin padding float clear".split(" ");Bind(TG.DropPreview,"tg-drop-preview");TG.ScreenProtector=function(){setType(this,"TG.ScreenProtector");this.remove=function(){document.body.removeChild(this);return null}};TG.ScreenProtector.templateMarkup=" ";Bind(TG.ScreenProtector,"tg-screen-protector");TG.NodeCoords=function(a){this.x=a.offsetLeft;this.y=a.offsetTop;for(var b=a;b=b.offsetParent;)this.x+=b.offsetLeft,this.y+=
b.offsetTop;this.left=this.x;this.top=this.y;this.width=a.offsetWidth;this.right=this.x+a.offsetWidth;this.height=a.offsetHeight;this.bottom=this.y+a.offsetHeight;b={marginLeft:"",marginRight:"",marginTop:"",marginBottom:""};a.currentStyle?b=a.currentStyle:window.getComputedStyle&&(b=getComputedStyle(a));this.marginLeft=parseInt(b.marginLeft.replace(/[^0-9]/g,"")||"0");this.marginRight=parseInt(b.marginRight.replace(/[^0-9]/g,"")||"0");this.marginTop=parseInt(b.marginTop.replace(/[^0-9]/g,"")||"0");
this.marginBottom=parseInt(b.marginBottom.replace(/[^0-9]/g,"")||"0");this.contains=function(a,b){var c=this.y-Math.ceil(this.marginTop/2),d=1*this.right+Math.ceil(this.marginRight/2),g=1*this.bottom+Math.ceil(this.marginBottom/2);return a>=this.x-Math.ceil(this.marginLeft/2)&&a<=d&&b>=c&&b<=g?!0:!1}};document.onmousedown=function(a){a=a||window.event;var b=new TG.MouseCoords(a);TG.DragDrop.grab(b)&&"function"==typeof a.preventDefault&&a.preventDefault()};document.onmousemove=function(a){a=a||window.event;
var b=new TG.MouseCoords(a);TG.DragDrop.drag(b)&&"function"==typeof a.preventDefault&&a.preventDefault()};document.onmouseup=function(a){a=a||window.event;var b=new TG.MouseCoords(a);TG.DragDrop.drop(b)&&"function"==typeof a.preventDefault&&a.preventDefault()};document.ontouchstart=document.onmousedown;document.ontouchmove=document.onmousemove;document.ontouchend=document.onmouseup;document.ontouchleave=document.onmouseup;document.ontouchcancel=document.onmouseup;console.log("TG.DragDrop loaded. (2)")});
tgmodule.d("./","./tg-test.js",function(k){require("tg-upon.js");require("tg-namespace.js");TG.Testing||{Test:function(a,b){this.name=a;this.test=function(){try{b();var c={success:!0,name:a,message:""}}catch(d){c={success:!1,name:a,message:TG.stringify(d)}}return c};setType(this,"TG.Testing.Test")},FakeDisk:function(a){a=a||{};var b,c,d;this.build=function(){b=tg_save;c=tg_retrieve;d=tg_delete;tg_save=function(b){eval("var o = "+b);o["tg-id"]||(o["tg-id"]="MEM-"+(new Date).getTime()+"."+Math.random());
b=o["tg-id"];a[b]=TG.stringify(o,null,null,!0);return b};tg_retrieve=function(b){return a[b]};tg_delete=function(b){delete a[b]}};this.dispose=function(){tg_save=b;tg_retrieve=c;tg_delete=d};this.build();setType(this,"TG.Testing.FakeDisk")},Suite:function(){TG.DataObject.apply(this);this.suite=arguments;this.run=function(){for(var a=new TG.Testing.FakeDisk,b={passed:[],failed:[]},c=0;c<this.suite.length;c++){var d=this.suite[c];0==c&&d&&"string"==typeof d?eval.call(global,tg_readfile(d)):isa(d,"TG.Testing.Test")&&
(d=d.test(),d.success?b.passed.push(d):b.failed.push(d))}a.dispose();return b};setType(this,"TG.Testing.Suite")}};TG.assert=function(a,b){if(!a)throw String(b);}});
tgmodule.d("./","./tg-ui.js",function(k){require("tg-upon.js");require("tg-namespace.js");require("tg-dom.js");var a=a||[];TG.UI.SubmitButton=function(){var a=this;this.submitButton.onclick=function(){on(a,"submit").fire()};setType(this,"TG.UI.SubmitButton");onready(this).fire()};TG.UI.SubmitButton.templateMarkup="\t<input type='button' data-id='submitButton' value='Sign in' />";a.push(TG.UI.SubmitButton,".tg-submit-button");TG.UI.Field=function(){this.style.width="100%";this.setName=function(a){this.fieldInput.name=
a;this.fieldLabel.innerHTML=a};this.getName=function(){return this.fieldLabel.innerHTML};this.setValue=function(a){this.fieldInput.value=a};this.getValue=function(){return this.fieldInput.value};this.focus=function(){this.fieldInput.focus()};this.blur=function(){this.fieldInput.blur()};this.setName(this.name||this["data-name"]||"");this.setValue(this.value||this["data-value"]||"");this.fieldInput.type=this.type||this["data-type"]||this.fieldInput.type;this.onclick=function(){this.fieldInput.focus()};
setType(this,"TG.UI.Field");onready(this).fire()};TG.UI.Field.templateMarkup="\t<label data-id='fieldLabel' style='display: inline-block; width: 33%; margin: 0px;'></label>\t<input type='text' data-id='fieldInput' style=' display: inline-block; width: 60%;'></input>";a.push(TG.UI.Field,".tg-field");TG.UI.PasswordField=function(){this.type="password";TG.UI.Field.call(this);setType(this,"TG.UI.PasswordField");onready(this).fire()};TG.UI.PasswordField.templateMarkup=TG.UI.Field.templateMarkup;a.push(TG.UI.PasswordField,
".tg-password-field");TG.UI.RadioGroup=function(){var a=this;this.options=[];this.index={};this.selected=null;this.add=function(b){isa(b,"TG.UI.Radio")&&(this.container.appendChild(b),this.options.push(b),this.index[b.value]=b,on(b,"selectaction",function(){a.setValue(b.value)}),b.selected&&a.setValue(b.value))};this.setValue=function(a){for(var b in this.index)b!=a?this.index[b].deselect():(this.index[b].select(),this.selected=this.index[b])};this.getValue=function(){if(this.selected)return this.selected.value};
onready(this.parameters,function(){for(var b=0;b<a.parameters.length;b++)a.add(a.parameters[b])});setType(this,"TG.UI.RadioGroup");onready(this).fire()};TG.UI.RadioGroup.templateMarkup="<div data-id='container'></div>";a.push(TG.UI.RadioGroup,".tg-radio-group");TG.UI.Radio=function(){this.style.display="inline-block";this.style.margin="0.5em";this.value=this.value||this["data-value"]||"";this.select=function(){this.fieldInput.checked||(this.fieldInput.checked=!0,on(this,"change").fire(),on(this,"select").fire())};
this.deselect=function(){this.fieldInput.checked&&(this.fieldInput.checked=!1,on(this,"change").fire(),on(this,"deselect").fire())};this.onclick=function(){on(this,"selectaction").fire()};for(var a=0;a<this.parameters.length;a++)this.fieldLabel.appendChild(this.parameters[a]);setType(this,"TG.UI.Radio");onready(this).fire()};TG.UI.Radio.templateMarkup="\t<input type='radio' data-id='fieldInput'></input>\t<label data-id='fieldLabel'></label>";a.push(TG.UI.Radio,".tg-radio");TG.UI.LoginLink=function(){var a=
this;this.isExpanded=!1;this.toggle=function(){this.isExpanded?this.collapse():this.expand()};this.expand=function(){this.isExpanded=!0;this.loginBox.style.display="block";this.loginBox.focus()};this.collapse=function(){this.isExpanded=!1;this.loginBox.style.display="none"};this.actionLink.onclick=function(){a.toggle();return!1};on(this.loginBox,"submit",function(b){b&&a.collapse()});setType(this,"TG.UI.LoginLink");onready(this).fire()};TG.UI.LoginLink.templateMarkup="\t<a style='cursor: pointer;' data-id='actionLink'>Sign in</a>\t<div data-id='loginBox' style='display: none; width: 300px;' class='tg-login-box'></div>";
a.push(TG.UI.LoginLink,".tg-login-link");TG.UI.LoginBox=function(){var a=this;onready(this,function(){1==a.focused?a.focus():a.blur()});this.setMessage=function(a){this.statusBox.innerHTML=a;this.statusBox.style.display=a?"":"none"};this.focus=function(){this.username.focus()};this.blur=function(){this.username.blur();this.password.blur()};this.submit=function(){TG.Users[this.action.getValue()](this.username.getValue(),this.password.getValue()).returnTo(function(b){b?a.setMessage("Logging in ..."):
a.setMessage("Bad credentials. Try again.");on(a,"submit").fire(b)});this.password.setValue("")};this.clear=function(){this.username.setValue("");this.password.setValue("")};on(this.submitButton,"submit",function(){a.submit()});this.formNode.onsubmit=function(){a.submit();return!1};setType(this,"TG.UI.LoginBox");onready(this).fire()};TG.UI.LoginBox.templateMarkup="\t<div data-id='statusBox' style='display: none; color: red;'></div>\t<form name='nosubmit' action='nosubmit' data-id='formNode'>\t<div class='tg-radio-group' data-id='action'>\t\t<div class='tg-radio' data-value='authenticate' selected='1'>Sign In</div>\t\t<div class='tg-radio' data-value='add'>\t\t\tCreate Account\t\t</div>\t</div>\t<div class='tg-field' data-id='username' data-name='Username'></div>\t<div class='tg-password-field' data-id='password' data-name='Password'>\t</div>\t<div data-id='submitButton' class='tg-submit-button'></div>\t</form>";
a.push(TG.UI.LoginBox,".tg-login-box");TG.UI.DocumentList=function(){};TG.UI.TestRun=function(){var a=this;this.header.innerHTML=this.testobject;this.processResults=function(b){a.loader.style.display="none";for(var c=0;c<b.failed.length;c++)a.appendChild(New(TG.UI.TestResult,b.failed[c]));for(c=0;c<b.passed.length;c++)a.appendChild(New(TG.UI.TestResult,b.passed[c]))};this.run=function(){this.loader.style.display="";upon(function(){return TG.UI.TestResult},function(){if(!TG.findGlobal(a.testobject)){var b=
document.createElement("script");b.src=a.api;b.type="text/javascript";document.body.appendChild(b)}upon(function(){return TG.findGlobal(a.testobject)},function(){TG.findGlobal(a.testobject).run().returnTo(a.processResults)})})};setType(this,"TG.UI.TestRun");onready(this).fire();1==this.autorun&&this.run()};TG.UI.TestRun.templateMarkup="\t<h3 data-id='header'>Test Results</h3>\t<div data-id='loader' style='color: silver; display: none;'>running ...</div>";a.push(TG.UI.TestRun,".tg-test-run");TG.UI.TestResult=
function(){this.success?(this.style.color="green",this.successString.innerHTML="PASS"):(this.style.color="red",this.successString.innerHTML="FAIL");var a="";"string"==typeof this.message?a=this.message:"undefined"!==typeof this.message&&(a="<b>"+this.message.message+"</b>\n<i>"+this.message.fileName+":"+this.message.lineNumber+"</i>\n"+this.message.stack);a=a.replace(/\n/g,"<br />\n");this.messageNode.innerHTML=a;TG.UI.alternate&&(this.style.backgroundColor="#f0f0ff");TG.UI.alternate=!TG.UI.alternate;
setType(this,"TG.UI.TestResult");onready(this).fire()};TG.UI.alternate=!1;TG.UI.TestResult.templateMarkup="\t<table style='width: 90%;'><tr>\t\t<td data-id='successString' style='width: 30pt;'></td>\t\t<td style='width: auto;'>\t\t\t<div data-id='name' style='font-weight: bold;'></div>\t\t\t<div data-id='messageNode'></div>\t\t</td>\t\t<td style='width: 25pt; text-align: right;'>\t\t\t<span data-id='duration'>0</span>\t\t</td>\t\t<td style='width: 10pt'>\t\t\t<span style='color: silver;'>ms</span>\t\t</td>\t\t<td style='width: 25pt; text-align: right;'>\t\t\t<span data-id='reads'>0</span>\t\t</td>\t\t<td style='width: 8pt'>\t\t\t<span style='color: silver;'>r</span>\t\t</td>\t\t<td style='width: 25pt; text-align: right;'>\t\t\t<span data-id='writes'>0</span>\t\t</td>\t\t<td style='width: 8pt'>\t\t\t<span style='color: silver;'>w</span>\t\t</td>\t\t<td style='width: 25pt; text-align: right;'>\t\t\t<span data-id='deletes'>0</span>\t\t</td>\t\t<td style='width: 8pt'>\t\t\t<span style='color: silver;'>d</span>\t\t</td>\t</tr></table>";
a.push(TG.UI.TestResult,".tg-test-result")});
tgmodule.d("./","./tg-color.js",function(k){TG.Color=function e(b,c,d){this.loadHex=function(b){b=b.replace("#","");var c=parseInt(b.substr(0,2),16),d=parseInt(b.substr(2,2),16);b=parseInt(b.substr(4,2),16);this.loadRGB(c,d,b)};this.loadRGB=function(b,c,d){b=0<b?b:0;c=0<c?c:0;d=0<d?d:0;this.r=Math.round(255>b?b:255);this.g=Math.round(255>c?c:255);this.b=Math.round(255>d?d:255)};this.loadHSL=function(b,c,d){c=Math.min(Math.max(c,0),100)/100;d=Math.min(Math.max(d,0),100)/100;c*=1-Math.abs(2*d-1);var e=
d-c/2;d=c*this.colorVector(0,b)+e;var f=c*this.colorVector(120,b)+e;b=c*this.colorVector(240,b)+e;this.r=Math.round(255*d);this.g=Math.round(255*f);this.b=Math.round(255*b)};this.loadRGBString=function(b){this.loadCSS(b)};this.loadHSLString=function(b){this.loadCSS(b)};this.loadCSS=function(b){var c;(c=b.match(/rgb\(([0-9]+), ?([0-9]+), ?([0-9]+)/i))?this.loadRGB(parseInt(c[1]),parseInt(c[2]),parseInt(c[3])):(c=b.match(/hsl\(([0-9]+), ?([0-9]+)%, ?([0-9]+)%/i))?this.loadHSL(parseInt(c[1]),parseInt(c[2]),
parseInt(c[3])):b.match(/#/)&&this.loadHex(b)};this.toHex=function(){var b=[Number(this.r).toString(16),Number(this.g).toString(16),Number(this.b).toString(16)],c;for(c in b)0==b[c].length?b[c]="00":1==b[c].length&&(b[c]="0"+b[c]);return"#"+b.join("")};this.toRGBString=function(){return"rgb("+this.r+","+this.g+","+this.b+")"};this.toHSLString=function(){var b=this.r/255,c=this.g/255,d=this.b/255,e=Math.max(b,c,d),f=Math.min(b,c,d),g=e-f;f=(e+f)/2;var k=1-Math.abs(2*f-1),l=0;0<g&&(e==b?l=(c-d)/g%6:
e==c?l=(d-b)/g+2:e==d&&(l=(b-c)/g+4));l=Math.round(60*l);b=Math.round(100*(0<k?g/k:1));f=Math.round(100*f);return"hsl("+l+","+b+"%,"+f+"%)"};this.toString=function(){return this.toHex()};this.angleBetween=function(b,c){var d=Math.abs(b-c);180<d&&(d=360-d);return d};this.colorVector=function(b,c){var d=this.angleBetween(b,c);return 120<d?0:1-Math.max(0,d-60)/60};this.distanceTo=function(b){return Math.sqrt(Math.pow(b.r-this.r,2)+Math.pow(b.g-this.g,2)+Math.pow(b.b-this.b,2))};var f=function(b,c,d){var e=
{};d=void 0===d?.5:d;d=0<d?d:0;d=1>d?d:1;var f=1-d,g;for(g in b)e[g]=f*b[g]+d*c[g];return e};this.getBlendedColor=function(b,c){var d=f(this,b,c);return new e(d.r,d.g,d.b)};this.getPaintMixedColor=function(b,c){var d=g(this),h=g(b);d=f(d,h,c);return new e(d.r,d.g,d.b)};var g=function(b){return{r:210*b.r/255+35*b.g/255,g:210*b.g/255+35*b.b/255,b:210*b.b/255+35*b.r/255}};this.b=this.g=this.r=0;3==e.arguments.length?this.loadRGB(b,c,d):b instanceof e?this.loadRGB(b.r,b.g,b.b):this.loadCSS(b)};k.exports=
TG.Color});
tgmodule.d("./","./tg-mainloop.js",function(k){require("tg-namespace.js");TG.MainLoop=function(){var a=new Date,c=TG.MainLoop.objects,d=TG.MainLoop.functions,e=[];for(h in c)0==c[h].dead&&e.push(c[h]);TG.MainLoop.objects=e;for(h in e)e[h].step();for(h in e)e[h].draw();for(h in d)if("function"==typeof d[h])d[h]();if(c=document.getElementById("__stats")){d=TG.MainLoop;var f=d.__endLastRun.getTime();e=new Date;var g=e.getTime();var h=d.__period+g-f;f=a.getTime()-d.__startLastRun.getTime()>1E3/d.__fps?
d.__runtime+(g-f)/2:d.__runtime+(g-a.getTime());1E3<=h&&(c.innerHTML=f+"/"+h+" = "+String(Math.round(f/Math.max(1,h)*100))+"%",h=f=0);d.__period=h;d.__runtime=f;d.__endLastRun=e;d.__startLastRun=a}};TG.MainLoop.__fps=30;TG.MainLoop.__interval=null;TG.MainLoop.__startLastRun=new Date;TG.MainLoop.__endLastRun=new Date;TG.MainLoop.__period=0;TG.MainLoop.__runtime=0;TG.MainLoop.objects=[];TG.MainLoop.functions=[];TG.MainLoop.running=function(){return TG.MainLoop.__interval};TG.MainLoop.addFunction=function(a){if("function"==
typeof a){var b=TG.MainLoop,d=b.functions,e;for(e in d)if(a==d[e])return!0;d.push(a);b.start();return!0}return!1};TG.MainLoop.addObject=function(a){if("object"==typeof a&&a.step&&"function"==typeof a.step&&a.draw&&"function"==typeof a.draw){var b=TG.MainLoop,d=b.objects,e;for(e in d)if(a==d[e])return!0;d.push(a);b.start();return!0}return!1};TG.MainLoop.removeFunction=function(a){for(var b=TG.MainLoop.functions,d=0;d<b.length;d++)if(b[d]==a){b.splice(d,1);break}};TG.MainLoop.removeObject=function(a){for(var b=
TG.MainLoop.objects,d=0;d<b.length;d++)if(b[d]==a){b.splice(d,1);break}};TG.MainLoop.start=function(a){TG.MainLoop.__interval||(TG.MainLoop.__fps=a||TG.MainLoop.__fps,TG.MainLoop.__interval=setInterval(function(){TG.MainLoop()},1E3/TG.MainLoop.__fps))};TG.MainLoop.stop=function(){TG.MainLoop.__interval=clearInterval(TG.MainLoop.__interval)};TG.MainLoop.pause=function(){return TG.MainLoop.stop()};if(this.__tgq){this.__tgq.push=function(a){"function"==typeof a&&a()};for(var a in this.__tgq)if("function"==
typeof this.__tgq[a])this.__tgq[a]()}else this.__tgq={push:function(a){a()}}});tgmodule.setpath(".");require("tg-upon.js");require("tg-dom.js");require("tg-box.js");require("tg-nodebox.js");require("tg-api.js");require("tg-dragdrop.js");require("tg-test.js");require("tg-ui.js");require("tg-color.js");require("tg-mainloop.js");
