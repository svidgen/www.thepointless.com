(function(){if(!this.tgmodule||!this.require){var h=[],a=["."];tgmodule={start:function(c){h.push(c)},end:function(c){h[h.length-1]===c&&h.pop()},setpath:function(c){a.push("./"===c?".":c)},unsetpath:function(){a.pop()},list:function(){var c=[],b;for(b in require.cache)c.push(b);return c},d:function(c,b,a){var e={};this.setpath(c);this.start(b);c=h[h.length-1];"function"===typeof a?a(e):e.exports=a;require.cache[c]=e;this.end(b);this.unsetpath()}};require=function(c){var b=require.cache[require.resolve(c)];
if(!b)throw"`"+c+"` does not exist.";return b.exports};require.cache={};require.resolve=function(c){c=c.split(/\//);for(var b=a[a.length-1].split(/\//);".."==c[0];)c.shift(),b.pop();for(;"."==c[0];)c.shift();return b.join("/")+"/"+c.join("/")}}})();tgmodule.d("./","./tg-namespace.js",function(h){TG=this.TG||{};TG.API=TG.API||{};TG.Data=TG.Data||{};TG.UI=TG.UI||{}});
tgmodule.d("./","./tg-observe.js",function(h){require("tg-namespace.js");TG.observe=function(a,c,b,e){e=void 0===e?!0:e;c.forEach(function(c){var d=a[c];Object.defineProperty(a,c,{set:function(e){d=e;b(a,c,e)},get:function(){return d},enumerable:e})})};h.exports=TG.observe});tgmodule.d("./","./tg-upon.js",function(h){upon=function(a,c){"function"==typeof a&&a()?c():"string"==typeof a&&window[a]?c():setTimeout(function(){upon(a,c)},50)}});
tgmodule.d("./","./tg-events.js",function(h){require("tg-observe.js");require("tg-upon.js");TG.Event=function(a,c,b){this.target=c;this.action=b;this.subscribers=[];this.interceptors=[];this.fired=0;this.singleFire=a||!1;this.args=[];this.and=this.then=this.register=function(b){this.singleFire&&0<this.fired?b():this.subscribers.push(b);return this};this.fire=function(b,c,a){this.args=arguments;this.fireWithInterception();this.fired+=1;return this};this.fireOnce=function(b,c,a){this.singleFire=!0;
return this.fire.apply(this,arguments)};this.fireWithInterception=function(b){b=b||0;if("function"==typeof this.interceptors[b]){var c=this;this.interceptors[b]({arguments:c.args,resume:function(){c.fireWithInterception(b+1)}})}else{this.fired+=1;for(var a=[];0<this.subscribers.length;){var e=this.subscribers.pop();"function"===typeof e&&(e.apply(null,this.args),a.push(e))}this.singleFire||(this.subscribers=a)}};this.intercept=function(b){"function"===typeof b&&this.interceptors.push(b)};setType(this,
"TG.Event")};TG.Event.events=[];TG.Event.events.getWaiting=function(){return TG.Event.events.filter(function(a){return 0==a.fired})};TG.Event.registries=[];TG.Event.registries.getWaiting=function(){return TG.Event.registries.filter(function(a){return a.fired<a.count})};this.on=function(a,c,b,e){var d="__TGEvent_on"+c;e=e||!1;if(isa(a,Array)||isa(a,NodeList)){for(var f=[],g=0;g<a.length;g++)!isa(a[g],Object)||!isa(a[g],Element)&&isa(a[g],Node)||f.push(a[g]);var l={count:f.length,fired:0,fn:b,singleFire:e,
fire:function(){this.fired++;this.fired>=this.count&&on(this,"complete").fire()},objects:f,eventName:d};if(0<f.length)for(g=0;g<f.length;g++)on(f[g],c,function(){l.fire()},e);else l.fire();TG.Event.registries.push(l);return on(l,"complete")}if("undefined"===typeof a[d])a[d]=new TG.Event(e,a,d);else if(!isa(a[d],"TG.Event"))throw d+" already exists as a non-TG.Event on the target object.";"function"==typeof b&&a[d].register(b);return a[d]};this.onready=function(a,c){return on(a,"ready",c,!0)}});
tgmodule.d("./","./tg-set.js",function(h){TG.Set=function(a){var c={};this.add=function(b){if(b instanceof Array)for(var a=0;a<b.length;a++)this.add(b[a]);else c[b]=!0};this.remove=function(b){delete c[b]};this.toArray=function(){var b=[],a;for(a in c)b.push(a);return b};a&&this.add(a)};h.exports=TG.Set});
tgmodule.d("./","./tg-types.js",function(h){Element=window.Element||function(){return!0};Node=window.Node||window.Element;getTypeId=function(a){var c=a;"function"==typeof a&&(c=Bind.getBindings(a),c=0<c.length?c[0]:a.name||a.toString());return c};registerType=setType=function(a,c){a.__types=a.__types||{};var b=this.getTypeId(c);if(b&&null==a.__types[b]){var e=0,d;for(d in a.__types)e=Math.max(e,a.__types[d]);a.__types[b]=e+1}};isa=function(a,c){var b=typeof a,e=typeof c;if("string"===b)return c===
String;if("number"===b)return c===Number;if(void 0===a||null===a)return e===b;if("boolean"===b)return b==e;if("string"===e||"function"===e)if(a.__types=a.__types||{},c&&a.__types[this.getTypeId(c)])return!0;return c===Element||c===Node||c===NodeList||"function"===e?a instanceof c:a===c};h.exports={isa:isa,getTypeId:getTypeId,setType:setType,registerType:registerType}});
tgmodule.d("./","./tg-css.js",function(h){TG.getClassnames=function(a){return(new TG.Set(a.className.split(/\s+/))).toArray()};TG.addClassname=function(a,c){var b=new TG.Set(a.className.split(/\s+/));b.add(c);a.className=b.toArray().join(" ")};TG.removeClassname=function(a,c){var b=new TG.Set(a.className.split(/\s+/));b.remove(c);a.className=b.toArray().join(" ")};TG.currentStyle=function(a,c){return a.currentStyle?a.currentStyle[c]:document.defaultView.getComputedStyle(a,"")[c]};TG.copyStyle=function(a,
c,b){if(b instanceof Array)for(var e=0;e<b.length;e++)c.style[b[e]]=TG.currentStyle(a,b[e]);else for(e in a.style)c.style[e]=b?TG.currentStyle(a,e):a.style[e];a=TG.getClassnames(a);for(e=0;e<a.length;e++)TG.addClassname(c,a[e])};h.exports={getClassname:TG.getClassname,addClassname:TG.addClassname,remoeClassname:TG.removeClassname,copyStyle:TG.copyStyle,currentStyle:TG.currentStyle}});
tgmodule.d("./","./tg-profiler.js",function(h){TGProfiler=new function(){var c={};this.start=function(b){return new a(b)};this.watch=function(b,c){return function(){var e=new a(b),f=c.apply(this,Array.prototype.slice.call(arguments,0));e.stop();return f}};this.append=function(b){c[b.name]=c[b.name]||[];c[b.name].push(b)};this.getSummary=function(){var b={},a;for(a in c)_profiles=c[a],b[_profiles[0].name]={count:_profiles.length,time:_profiles.reduce(function(b,c){return b+c.getTime()},0)};return b}};
var a=function(c){var b,a;this.init=function(){this.name=c;TGProfiler.append(this);b=new Date};this.stop=function(){a=new Date};this.getTime=function(){return a?a.getTime()-b.getTime():(new Date).getTime()-b.getTime()};this.init()};h.exports=TGProfiler});
tgmodule.d("./","./tg-dom.js",function(h){require("tg-namespace.js");require("tg-upon.js");require("tg-events.js");require("tg-set.js");require("tg-types.js");require("tg-css.js");var a=require("tg-profiler.js");this.console=this.console||{log_items:[],log:function(){for(var c=0;c<arguments.length;c++)this.log_items.push(arguments[c])}};this.Bind||(this.DomClass=function(c,b){b=b||function(){};var e=b.name||"<unknown>";b=a.watch(e,b);b.template=c;Bind(b);e=a.watch("DomClass "+e,function(c){return New(b,
c)});e.apply=function(c,a){return b.apply(c,a)};e.call=function(){var c=Array.prototype.shift.apply(arguments);return b.call(c,arguments)};e.__constructor=b;e.name=b.name;return e},this.Bind=function(c,b,a){if("function"==typeof c)return b=Bind.addBinding(c,b),c.binding=b,b=getNodes(isa(a,Node)?a:document,b),Bind.Apply(c,b),b.length;isa(c,Node)&&Bind.BindExistingConstructors(c)},Bind.BindExistingConstructors=function(c,b){var a=[],d=b&&b.dependencies||Bind.Classes,f;for(f in d)0<Bind(Bind.Classes[f],
f,c)&&(a[f]=1);b&&!b.dependencies?b.dependencies=a:null},Bind.Apply=function(c,b){for(var a=0;a<b.length;a++){var d=b[a];d.__AlreadyBound||(Bind.importParameters(c,d),Bind.ApplyClone(c,d),Bind.ApplyConstructor(c,d),Bind.importAttributes(d),d.__AlreadyBound=!0)}},Bind.ApplyTemplate=function(c,b){var a=Bind.templateFor(c);a&&(b.innerHTML=a)},Bind.ApplyClone=function(c,b){if(Bind.templateFor(c)){for(;b.firstChild;)b.removeChild(b.firstChild);var a=Bind.getClone(c);0==a.childNodes.length&&(a=b.__holdingDiv);
for(;a.firstChild;)b.appendChild(a.removeChild(a.firstChild))}},Bind.ApplyConstructor=function(c,b){Bind.BindExistingConstructors(b,c);setType(b,c);Bind.attachIdentifiedChildren(b);Bind.applyParameters(b);c.apply(b)},Bind.applyProperties=function(c,b){var a="object"==typeof b?b:{},d;for(d in a)a.hasOwnProperty(d)&&(c[d]=a[d])},Bind.originalCreateElement=document.createElement,Bind.createNode=function(c,b){b=b||c.binding;var a=Bind.originalCreateElement.call(document,"div");0==b.indexOf(":")&&(b=b.substr(1));
if(0==b.indexOf(".")){var d=b.substr(1);b="tg:element"}a.innerHTML="<"+b+"></"+b+">";a=a.firstChild;a.className=d||"";return a},Bind.Classes={},document.createElement=function(c,b){var a=Bind.getConstructor(c);if(a){var d=Bind.getClone(a);Bind.applyProperties(d,b);Bind.ApplyConstructor(a,d);d.__AlreadyBound=!0}else d=Bind.originalCreateElement.call(this,c),Bind.applyProperties(d,b);return d},Bind.getClone=function(c){c.templateNode||(c.templateNode=Bind.createNode(c),Bind.ApplyTemplate(c,c.templateNode));
return c.templateNode.cloneNode(!0)},Bind.addBinding=function(c,b){b||(b=Bind.bindingQueryFromConstructor(c));Bind.Classes[b]=c;return b},Bind.bindingQueryFromConstructor=function(c){var b=document.createElement("div");b.innerHTML=Bind.templateFor(c);for(var a=0;a<b.childNodes.length;a++){var d=Bind.bindingQueryFromNode(b.childNodes[a]);c.template=b.childNodes[a].innerHTML;if(d)return d}throw"Could not bind "+c;},Bind.bindingQueryFromNode=function(c){return c.tagName?!c.className||c.tagName.match(/:/)?
c.tagName.toLowerCase():c.className:null},Bind.getConstructor=function(c){return Bind.Classes[c]},Bind.getBindings=function(c){var b=[],a;for(a in Bind.Classes)Bind.Classes[a]!==c&&Bind.Classes[a]!==c.__constructor||b.push(a);return b},Bind.makeNodeFrom=function(c,b){if(isa(c,Node)||isa(c,Element))return c;if(isa(c,Array)){var a=document.createElement("div");Bind.addArrayAsChildren(a,c);return a}if("object"!=typeof c)return a=document.createElement("div"),a.innerHTML=c,a;a=null;b&&(a=Bind.getConstructor(b));
if("object"==typeof c.__types)for(var d=TG.getTypeArray(c),f=0;f<d.length;f++)a=Bind.getConstructor(d[f]);if(a)return New(a,c);a=document.createElement("div");a.innerHTML=c;return a},Bind.addArrayAsChildren=function(a,b,e){for(;a.firstChild;)a.removeChild(a.firstChild);for(var c=0;c<b.length;c++)b[c]=Bind.makeNodeFrom(b[c],e),b[c].parentNode&&b[c].parentNode.removeChild(b[c]),a.appendChild(b[c])},Bind.childNodeArray=function(a){var b=[];b.events={};var c=a["data-collection"]||a.getAttribute("data-collection");
b.render=function(){Bind.addArrayAsChildren(a,b)};b.loadFromDOM=function(c){c&&(a=c);c=[];c=(c=a["data-collection"]||a.getAttribute("data-collection"))?getNodes(a,c):Array.prototype.slice.call(a.childNodes);b.length=0;c.forEach(function(a){b.push(a)})};b.push=function(d){d=Bind.makeNodeFrom(d,c);a.appendChild(d);return Array.prototype.push.call(b,d)};b.pop=function(){a.removeChild(n);return Array.prototype.pop.apply(b)};b.shift=function(){a.removeChild(n);return Array.prototype.shift.apply(b)};b.unshift=
function(d){d=Bind.makeNodeFrom(d,c);a.insertBefore(d,a.firstChild);return Array.prototype.unshift.call(b,d)};b.splice=function(){var c=Array.prototype.slice.call(arguments,0),d=c.shift(),e=c.shift()||b.length;c=c||[];for(var f=d;f<d+e;f++)a.removeChild(b[f]);var h=b[f];c.forEach(function(b){a.insertBefore(b,h)});return Array.prototype.splice.apply(b,arguments)};for(var d=["reverse","sort"],f=0;f<d.length;f++)(function(){var a=d[f];b[a]=function(){var c=Array.prototype[a].apply(b,arguments);b.render();
return c}})();b.loadFromDOM();return b},Bind.defineAccessors=function(a,b,e){var c=Object.getOwnPropertyDescriptor(b,e);if(!(c&&0==c.configurable||a.__accessorDefined)){Object.defineProperty(a,"__accessorDefined",{get:function(){return!0},enumerable:!1});var f="innerHTML";"string"==typeof a.value&&(f="value");var g=a.getAttribute("data-property");a.getAttribute("data-render-async");var h=g,k=Bind.childNodeArray(a);b.__dom=b.__dom||{};Object.defineProperty(b.__dom,e,{get:function(){return a}});Object.defineProperty(b,
"__dom",{enumerable:!1});c=!0;if(a["data-ignore"]||a.getAttribute("data-ignore"))c=!1;Object.defineProperty(b,e,{get:function(){return"children"==g||"children"==h||a["data-collection"]||a.getAttribute("data-collection")?k:g?a[g]:h?a[h]:a},set:function(b){var c=function(b){if(isa(b,Array))Bind.addArrayAsChildren(a,b),h="children";else if(isa(b,Node))a.parentNode&&a.parentNode.replaceChild(b,a),a=b,h=null;else if(isa(b,Object)){for(var c in b)a[c]=b[c];h=null}else g?(a[g]=b,h=g):(a[f]=b,h=f)};isa(b,
"TG.Value")&&on(b,"change",function(){c(b.valueOf())});c(b.valueOf());k.loadFromDOM(a)},enumerable:c,configurable:!1})}},Bind.attachIdentifiedChildren=function(a,b){var c=(b||a).querySelectorAll("[data-id]");c=Array.prototype.slice.call(c,0);for(var d=0;d<c.length;d++){var f=c[d].getAttribute("data-id"),g=a[f];Bind.defineAccessors(c[d],a,f);g&&(a[f]=g)}},Bind.importAttributes=function(a,b){b=b||a;if(!a.__attributes_imported&&b.attributes&&b.attributes.length)for(var c=0;c<b.attributes.length;c++){var d=
b.attributes[c];a[d.name]||(a[d.name]=d.value)}a.__attributes_imported=!0},Bind.templateFor=function(a){return["template","markup","templateMarkup"].reduce(function(b,c){return b||a[c]},null)},Bind.importParameters=function(a,b,e){e=e||b;if(!b.__parameters_imported&&e.childNodes){b.parameters=[];for(var c=0;c<e.childNodes.length;c++){var f=e.childNodes[c];if(f.nodeType&&3==f.nodeType&&f.data&&f.data.replace(/\s/g,"")){var g=document.createElement("span");g.innerHTML=f.data;f=g}b.parameters.push(f)}if(null!=
Bind.templateFor(a)){b.__holdingDiv=document.createElement("div");b.__holdingDiv.style.display="none";document.body.appendChild(b.__holdingDiv);for(c=0;c<b.parameters.length;c++)b.__holdingDiv.appendChild(b.parameters[c]);Bind(b.__holdingDiv)}}b.__parameters_imported=!0},Bind.applyParameters=function(a){if(a.parameters&&isa(a.parameters,Array)&&a.__holdingDiv){for(var b=a.parameters,c=b.length-1;0<=c;c--){var d=b[c]["data-id"];d||"function"!=typeof b[c].getAttribute||(d=b[c].getAttribute("data-id"));
d&&(a[d]=b[c])}a.__holdingDiv.parentNode.removeChild(a.__holdingDiv);delete a.__holdingDiv}},Bind.copyDefaultAttributes=function(a,b){if(isa(a,Node)&&isa(b,Node))for(var c=0;c<a.attributes.length;c++){var d=a.attributes[c].name;b.hasAttribute(d)||(b.setAttribute(d,a.attributes[c].value),b[d]=a.attributes[c].value)}},Bind.getChildren=function(a,b){if(!a.childNodes)return[];for(var c=[],d=getNodes(a,b),f=0;f<d.length;f++)d[f].parentNode===a&&c.push(d[f]);return c},window.getNodes=window.getNodes||function(a,
b){if("function"==typeof b){var c=[];for(var d=Bind.getBindings(b),f=0;f<d.length;f++)for(var g=getNodes(a,d[f]),h=0;h<g.length;h++)c.push(g[h]);return c}b=b.replace(/:/g,"\\:");c=a.querySelectorAll(b);for(f=0;f<c.length;f++)Bind.importAttributes(c[f]);return Array.prototype.slice.call(c,0)});this.Build=function(a,b){var c=b||{},d=null,f;for(f in Bind.Classes)if(Bind.Classes[f]===a){d=document.createElement(f,c);break}null===d&&(d=b,a.apply(d));return d};this.New=Build;console.log("Loaded Bind.")});
tgmodule.d("./","./tg-api.js",function(h){require("tg-namespace.js");require("tg-upon.js");TG.API.longPolls=TG.API.longPolls||[];TG.API.requests=TG.API.requests||{};TG.API.APIs=TG.API.APIs||[];TG.replaceAll=function(a,c){a=String(a);c.forEach(function(b){a=a.replace(b[0],b[1])});return a};TG.addSlashes=function(a){return TG.replaceAll(a,[[/\\/g,"\\\\"],[/"/g,'\\"'],[/'/g,"\\'"]])};TG.jsonEscape=function(a){return TG.replaceAll(a,[[/\\/g,"\\\\"],[/"/g,'\\"'],[/\//g,"\\/"],[/[\b]/g,"\\b"],[/\f/g,"\\f"],
[/\n/g,"\\n"],[/\r/g,"\\r"],[/\t/g,"\\t"],[/[^\u0020-\u007d]/g,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)}]])};TG.jsonAddSlashes=function(a){return TG.jsonEscape(a)};TG.stringify=function(a,c,b,e){c="number"==typeof c?c:128;if(!(1>c)){var d={__stringify_instance:1,__parameters_imported:1,__attributes_imported:1,__AlreadyBound:1},f=b||Math.random();if(a&&a.__stringify_instance&&a.__stringify_instance==f)delete a.__stringify_instance;else{a&&(a.__stringify_instance=f);if("undefined"===
typeof a)e=void 0;else if(null===a)e="null";else if(a instanceof Array){b=[];for(var g=0;g<a.length;g++){var h=TG.stringify(a[g],c-1,f,e);null!==h&&b.push(h)}e="["+b.join(",")+"]"}else if("boolean"===typeof a)e=a?"true":"false";else if(e&&b&&isa(a,"TG.DataObject"))e=TG.stringify(new TG.DataObjectReference(a),c-1,f,!1);else if("object"===typeof a){b=[];for(g in a)if(!d[g]&&a.hasOwnProperty(g)&&!g.match(/__TG/)){h=TG.stringify(a[g],c-1,f,e);var k=TG.stringify(g,c-1,f,e);k&&"string"==typeof h&&b.push(k+
":"+h)}e="{"+b.join(",")+"}"}else e="number"===typeof a?String(a):"function"===typeof a?void 0:'"'+TG.jsonEscape(a)+'"';a&&a.__stringify_instance&&delete a.__stringify_instance;return e}}};TG.argumentsArray=function(a){for(var c=[],b=0;b<a.length;b++)c.push(a[b]);return c};TG.API.multijsonp=function(a,c,b){TG.API.APIs[a]||(TG.API.APIs[a]={});upon(function(){return TG.API.poll},function(){var e=Math.floor(1E5+1E5*Math.random()),d=(new Date).getTime().toString(36)+e.toString(36);TG.API.requests[d]=
c;TG.API.requests[d].longpoll=b;e=encodeURIComponent(TG.stringify(c));e=b?"tg-t="+d+"&tg-w="+e:"tg-t="+d+"&tg-a="+e;var f=window.MockXMLHttpRequest||window.XMLHttpRequest||null,g=f?new f:new ActiveXObject("Microsoft.XMLHTTP");g.open("post",a,!0);g.setRequestHeader("Content-type","application/x-www-form-urlencoded");g.onreadystatechange=function(){4==g.readyState&&(200==g.status?eval(g.responseText):console.log("TG.mulijsonp() Error or Abort",g),delete TG.API.requests[d],b&&(delete TG.API.APIs[a].longPoll,
0==g.status||""==g.responseText?TG.API.disconnect(a,d):TG.API.poll(a)))};g.send(e);b&&(TG.API.APIs[a].longPoll=g)})};TG.API.jsonp=function(a,c,b){var e=new TG.API.Callback;b instanceof Array||(b=[b]);b={f:c,p:b,c:e};var d=TG.API.jsonp;d.pending=d.pending||{};var f=d.buffer;f[a]=f[a]||[];f[a].push(b);c.match(/^tg-api/)?TG.API.multijsonp(a,f[a]):"undefined"==typeof d.pending[a]&&(d.pending[a]=setTimeout(function(){TG.API.multijsonp(a,f[a]);f[a]=[];delete d.pending[a]},15));return e};TG.API.jsonp.buffer=
{};TG.API.getPolls=function(a,c,b){for(var e=[],d=0;d<TG.API.longPolls.length;d++){var f=TG.API.longPolls[d];(f.api==a&&null==c||f.f==c&&null==b||f.p==b)&&e.push(f)}return e};TG.API.poll=function(a){var c=TG.API.poll;c.pending=c.pending||{};"undefined"==typeof c.pending[a]&&(c.pending[a]=setTimeout(function(){TG.API.APIs[a]&&TG.API.APIs[a].longPoll&&TG.API.APIs[a].longPoll.abort();var b=TG.API.getPolls(a);0!=b.length&&(TG.API.multijsonp(a,b,!0),delete c.pending[a])},50))};TG.API.restartPolls=function(){var a=
TG.API;if(a.APIs)for(var c=0;c<a.APIs.length;c++){var b=TG.API.APIs[c];a[b]&&void 0===a[b].longPoll?0<TG.API.getPolls(b).length&&(a[b].longPollBroken?(console.log("Connection to "+b+" is broken. Retrying ..."),TG.API.poll(b)):a[b].longPollBroken=!0):a[b]&&(a[b].longPollBroken=!1)}};TG.API.poll.monitor=setInterval(TG.API.restartPolls,5E3);TG.API.start=function(a,c,b){if(!(0<TG.API.getPolls(a,c,b).length)){var e=new TG.API.Callback;c={api:a,f:c,p:b,c:e};e.action=c;TG.API.longPolls.push(c);TG.API.poll(a);
return e}};TG.API.stop=function(a,c,b){"object"==typeof a?b=b||c:a=TG.API.requests[a][c];var e=a.api;b&&console.log(b);b=!1;TG.API.APIs[e]&&TG.API.APIs[e].longPoll&&(TG.API.APIs[e].longPoll.abort(),b=!0);for(c=0;c<TG.API.longPolls.length;c++){var d=TG.API.longPolls[c];d===a&&(delete d.c,TG.API.longPolls.splice(c))}b&&TG.API.poll(e)};TG.API.disconnect=function(a,c){TG.API.jsonp(a,"tg-api-disconnect",c)};TG.API.Callback=function(){var a=function(b){a.value.push(b);c()};setType(a,"TG.API.Callback");
a.returns=[];a.value=[];a.exception=null;a.chainlink=null;a.callback=function(b){a.chainlink=new TG.API.Callback;if("string"===typeof b){var d=b;b=function(a){return a[d]()}}a.returns.push(b);c();return a.chainlink};var c=function(){if(0<a.value.length){var b=a.value.shift(),c=a.returns[0];"function"==typeof c&&(b=c(b),"function"==typeof b&&a.chainlink?b.returnTo(a.chainlink):a.chainlink(b))}};a.stop=function(){return a.action?TG.API.stop(a.action):null};a.fail=function(b){a.failure=b;"function"==
typeof a.failToFn&&a.failToFn(b);a.chainlink&&a.chainlink.fail(b)};a.failTo=function(b){a.failToFn=b;a.failure&&b(a.failure)};a.or=a.failTo;for(var b=["returnTo","and"],e=0;e<b.length;e++)a[b[e]]=a.callback;a.log=function(){a.returnTo(function(a){console.log(a)})};a.logJSON=function(){a.returnTo(function(a){console.log(TG.stringify(a))})};return a};TG.API.cb=function(a,c,b){if(!TG.API.requests[a].longpoll||null!==b&&("undefined"==typeof b.length||0!=b.length)){var e=null===b?null:"object"==typeof b?
new b.constructor:b;TG.copy(b,e);e&&e["tg-api-error"]?(b=console.error||console.log,e.message=e["tg-api-error"],b(e["tg-api-error"]+"\n",e["tg-api-trace"]),TG.API.requests[a][c].c.fail(e)):TG.API.requests[a][c].c(e)}};TG.API.alter=function(a,c,b){TG.API.requests[a][c].p=b};TG.findGlobal=function(a){a=a.split(".");for(var c=window,b=0;b<a.length;b++)if(c=c[a[b]],!c)return null;return c};TG.getTypeArray=function(a){var c=[],b;for(b in a.__types)c.push(b);c.sort(function(b,c){return a.__types[b]>a.__types[c]});
return c};TG.applyTypesFrom=function(a,c){var b=null;if(null!==a&&null!==c&&"object"===typeof c&&"object"===typeof a&&"object"===typeof a.__types)for(var e=TG.getTypeArray(a),d=0;d<e.length;d++){var f=e[d];isa(c,f)||(f=TG.findGlobal(f),"function"==typeof f&&(b=f.call(c))&&(c=b))}return b};TG.copy=function(a,c){if(null!==a&&"object"===typeof a&&null!==c&&"object"===typeof c){var b=TG.applyTypesFrom(a,c),e=!1;b?e=!0:b=c;for(var d in a)if("__types"!==d&&"function"!==typeof b[d])if(isa(a[d],Array)){isa(b[d],
Array)||(b[d]=a[d]);for(var f=0;f<b[d].length;f++)TG.copy(a[d][f],b[d][f])}else"object"===typeof a[d]?("object"!==typeof b[d]&&(b[d]={}),(f=TG.copy(a[d],b[d]))&&(b[d]=f)):"object"!==typeof b[d]&&(b[d]=a[d]);if(e)return b}};TG.FunctionReference=function(){var a=function(){var c=a.isEvent?TG.API.start:TG.API.jsonp,b=TG.argumentsArray(arguments),e;for(e in this)if(this[e]===a){var d=a.target;break}return c(a.api,d,b)};setType(a,"TG.FunctionReference");return a};TG.Value=function(a){var c=void 0;this.valueOf=
function(){return c};this.set=function(a){c=a;on(this,"change").fire()};a&&this.set(a);setType(this,"TG.Value")}});tgmodule.setpath(".");require("tg-events.js");require("tg-dom.js");require("tg-api.js");
